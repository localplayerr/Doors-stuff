--- variables and functions ---

local Player = game.Players.LocalPlayer
local AchievementsFrame = Player.PlayerGui.MainUI.LobbyFrame.Achievements
local List = AchievementsFrame.List
local Frame = AchievementsFrame.Frame
local TextHolder = Frame.TextHolder
local Stuff = Player.PlayerGui['NameUI' .. Player.Name].Stuff.Frame

local example = {
    Title = 'Example',
    Desc = 'Example',
    Reason = 'Example',
    Image = '',
    Locked = false,
    Secret = true,
    Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 255)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 255)),
    }),
}

local Positions = {
    general = 100001,
    entities = 200040,
    crucifix = 300100,
    floors = 401000,
}

function ShowBadgeInfo(Info)
    if Info.Secret == false then
        Frame.ImageLabel.OutlineImage.Image = 'rbxassetid://116382081183309'
        TextHolder.IsSecret.Visible = false
    else
        Frame.ImageLabel.OutlineImage.Image = 'rbxassetid://106743111263022'
        TextHolder.IsSecret.Visible = true
    end

    Frame.ImageLabel.Image = Info.Image

    TextHolder.Desc.Text = Info.Desc
    TextHolder.Reason.Text = Info.Reason
    TextHolder.Title.Text = Info.Title

    TextHolder.Title.ThemeGradient.Color = Info.Color
    Frame.ImageLabel.OutlineImage.ThemeGradient.Color = example.Color
end

function FlexBadge(Info)
    Stuff.TextBadge.Text.Changed:wait()

    Stuff.TextBadge.Text = Info.Title
    Stuff.ThemeGradient.Color = Info.Color

    Stuff.IconBadge.Image = Info.Image
    Stuff.IconBadge.OutlineImage.ThemeGradient.Color = Info.Color

    if Info.Secret == false then
        Stuff.IconBadge.OutlineImage.Image = 'rbxassetid://116382081183309'
        TextHolder.IsSecret.Visible = false
    else
        Stuff.IconBadge.OutlineImage.Image = 'rbxassetid://106743111263022'
        TextHolder.IsSecret.Visible = true
    end
end

--- create new badge ---

local NewBadge = List.Badge:Clone()
NewBadge.Name = 'BadgeName'
NewBadge.Parent = List
NewBadge.Visible = true
NewBadge.LayoutOrder = Positions.general

local NewGradient = List.Revive.OutlineImage:Clone()
NewGradient.Parent = NewBadge

if example.Locked == false then
    NewBadge.ImageColor3 = Color3.fromRGB(255, 255, 255)
    NewBadge.ImageTransparency = 0
    NewBadge.OutlineImage.ImageColor3 = Color3.fromRGB(255, 255, 255)
end

if example.Secret == true then
    NewBadge.OutlineImage.Image = 'rbxassetid://106743111263022'
end

--- setup new badge ---

local Gradient = NewBadge.OutlineImage.UIGradient
Gradient.Color = example.Color

NewBadge.Image = example.Image

--- debug ---

NewBadge.MouseButton1Click:connect(function()
    ShowBadgeInfo(example) -- garbage code because for some reason its only one working variant on zenith
    Frame.Apply.Visible = true
    Frame.Applied.Visible = false
end)

Frame.Apply.MouseButton1Click:connect(function()
    if TextHolder.Title == example.Title then
        FlexBadge(example)
    end
end)
